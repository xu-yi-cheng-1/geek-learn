<p>你好，我是自游。</p><p>随着比特币的问世，关于数字货币的讨论屡见不鲜。其中有一种猜想，就是各个国家能否基于区块链技术将国家主权货币数字化。</p><p>委内瑞拉成为全球首个推出数字货币的国家。该国经济脆弱不堪，所以想通过数字货币稳定经济。但因其随意操纵货币价格，可以说主权数字货币的第一次尝试最后以失败告终。</p><p>与此同时，美国互联网巨头Facebook公司试图基于区块链技术，主导发行一种服务于全球数十亿民众的无国界数字货币，Libra。虽然Libra的提出对区块链技术发展有较大的推动作用，但是却遭到美国监管部门否定，短时间内无法落地。</p><p>那我国又是什么情况呢？其实早在2014年，央行就成立了数字货币研究小组，对我国发行数字货币的技术体系、发行流通环境等指标展开了专项研究。</p><p>7年时间过去了，我国数字货币的发展已经从调研、原型构建到试点测试阶段，距离全面推行数字人民币也越来越近。</p><p>而伴随着数字人民币的发展，总有声音将数字人民币跟区块链技术联系起来，都在猜想数字人民币是否是基于区块链技术发行的。这一讲，我就结合央行最近发布的《<a href="http://www.pbc.gov.cn/goutongjiaoliu/113456/113469/4293590/2021071614200022055.pdf">中国数字人民币的研发进展</a>》白皮书，为你详细讲讲<strong>区块链+数字人民币</strong>的那些事儿。</p><h2>数字人民币基础</h2><p>我们想弄明白区块链与数字人民币有哪些关系，就要先掌握数字人民币的相关基础知识。</p><!-- [[[read_end]]] --><p>首先我们要明白它的定义，<strong>数字人民币是中国人民银行发行的法定货币的数字化，是由国家信用在背后作支撑，其发行权属于国家</strong>。</p><p>而我们通常熟悉的比特币、以太坊等数字货币，其背后的支撑是我们对区块链技术的信任，货币的发行权属于共同维护区块链网络正常运行的矿工。也就是说，虽然都是<strong>信任产生价值，但数字人民币与加密货币的信任源不一样，货币的生产机制也不一样，而这也是二者之间最大的两点不同。</strong></p><p>另外，数字人民币的定位是现金类支付凭证。这代表什么呢？意思就是数字人民币跟纸币、硬币的定位是一致的。虽然移动支付流行以后，我们现在几乎很少有机会使用现金，但终归我们还是熟悉现金。</p><p>那么当你理解数字人民币有困难的时候，其实就可以把它想象成是一种现金，这样你理解起来就会简单得多。</p><p>那我们现在就想一想，现金有哪些性质呢？通过总结归纳，我总结了三点性质。</p><p>首先，它<strong>不计利息</strong>。这点想必你深有体会，你手里的100元纸币，如果不使用，那么它永远都是100元，无论如何也不可能变成200元或者90元的。而如果你把这100元存入银行，即便是活期存款，1年到头，还是有少量的利息的。同样，<strong>如果将数字人民币放在钱包中不使用，它的面额是不变的，但它的购买力却是随着时间而变化的</strong>。</p><p>其次是<strong>无手续费</strong>。你不妨回想下从银行柜台存取现金的过程，你取出或者存入的数量跟你银行账户中的余额是一一对应的，并不存在差额，也就是手续费。那数字人民币也一样，不管你是在银行柜台还是通过手机钱包，中间转移过程是没有费用支出的。因此我们就可以推断，如果后续微信支付接入数字人民币，当你需要提现时，微信是不可以向你收取服务费的，否则可能违法。</p><p>第三就是<strong>可控匿名</strong>。所谓可控匿名，用白皮书的话说，就是“<strong>小额匿名、大额依法可溯</strong>”。揣在你兜里的纸币，如果你财不露白，别人无法知道你持有多少现金。但如果你拿着1个亿去银行存款，那么首先迎接你的将是严格的资金来源审查。</p><p>数字人民币也可以有相同的效果，只不过手段却不一样。<strong>用户可以按照不同身份识别强度开设不同等级的钱包，根据实名强弱程度赋予各类钱包不同的单笔、单日交易及余额限额</strong>。比如说，最低权限的钱包不需要提供任何身份信息，当然限制也是最严格的。</p><p>通过以上三点的分析，我想你已经对数字人民币的定位有所认识。当然，虽然数字人民币与现金共享诸多性质，但还是有部分差异，最直观的一点就是<strong>纸币、硬币是固定面额的，而数字人民币是可变面额</strong>。</p><p>什么意思呢？简单地讲，你永远也不可能拥有一张面额为500元的纸币，但是你却可以有面额为500元的数字人民币。</p><p><img src="https://static001.geekbang.org/resource/image/01/71/0186192804058cee3ddfeb4fb08a1071.png?wh=798x418" alt="" title="可变面额示意图（来自网络）"></p><p>说完数字人民币的基础概念，我们接下来一起探讨下数字人民币的体系架构。</p><h2>数字人民币架构</h2><p>要理解数字人民币的体系架构，其实也非常简单，我们只需要吃透什么叫做“<strong>一币，两库，三中心，N终端</strong>”就可以了。</p><p>这里“一币”指的就是数字人民币，“两库”指数字人民币发行库和银行库，而“三中心”指认证中心、大数据分析中心与登记中心，最后的N终端就对应着分散在用户手中的手机钱包等存储数字人民币的终端软件及设备。</p><p>接下来我就带你一起看看它们各自的概念和作用。</p><p><img src="https://static001.geekbang.org/resource/image/07/46/07a34fd75ab6ba7c178fayy74186ef46.jpg?wh=3440x3208" alt="" title="数字人民币体系示意图"></p><p>一币最容易理解，它对应着央行发行的数字人民币，整体体系都是围绕着这“一币”构建的。而数字人民币发行库是人民银行存放数字货币发行基金的数据库，可以这么说，央行通过发行库控制数字人民币的发行，是央行行使货币发行权的依赖。</p><p>另外，由银行库负责记录通过特定商业银行渠道分发的数字人民币。也就是说，当某商业银行有数字人民币的需求时，央行将数字人民币从发行库转移到该商业银行的银行库，从而实现数字人民币从央行到商业银行的转移。</p><p>而且，从现有的资料来看，<strong>数字人民币的分发渠道不仅包含商业银行，未来还可以推广到拥有支付牌照的机构</strong>，比如微信跟支付宝等，所以广义的银行库实质是指任何有资质的分发机构。</p><p>认证中心是系统中对用户身份信息的管理组件，这是整个数字人民币系统的安全中心。前面所说的可控匿名性质，就要依赖这个组件实现。登记中心是数字人民币转账的核心系统，用于将数字人民币与用户身份进行绑定，完成所有权的登记。同时，数字人民币的转账记录等信息也通过该组件进行记录。</p><p>大数据分析中心的作用也显而易见，基于前面几个子系统采集的数据完成各类指标分析，比如能够对可疑转账记录进行反洗钱分析，通过用户支付行为的分析优化数字人民币投放策略等。这也非常像区块链网络中的区块浏览器，可以直观感受到网络整体的运行情况，例如你可以通过<a href="https://etherscan.io/">EtherScan网站</a>监控以太坊网络的实时状态。</p><p>前面所说的“一币两库三中心”隶属于数字人民币的核心系统组件，而在此之外，则是由数字人民币钱包构建的使用生态，也就是所谓的“N终端”。</p><p>数字人民币从核心系统发行之后，经过投放，就分散到了用户手里的钱包。数字人民币的钱包其实跟区块链中的数字货币钱包功能很像，都有类似于储值，交易等功能。</p><p>另外，钱包的形式也同样包括软件钱包跟硬件钱包（如银行卡、钱包），软件钱包相对使用更加便捷，比如在手机中安装一个应用程序就可以直接使用，但是其安全性不如硬件钱包。</p><h2>数字人民币生命周期</h2><p>前面我们通过概念以及架构两个方面了解了数字人民币，接下来，我们还可以从生命周期这个角度看一看数字人民币的运营模式。</p><p><img src="https://static001.geekbang.org/resource/image/39/1c/394125ba9cf392d00de64296f01yy81c.jpg?wh=4105x2205" alt="" title="数字人民币生命周期示意图"></p><p>通过数字人民币生命周期示意图，我们可以直观地感受数字人民币的生命周期共有4个阶段。</p><p>首先，由中国人民银行进行数字货币的<strong>发行</strong>，存放在发行库中。随后，由任意分发机构根据自身需求进行<strong>申请</strong>，申请的同时需要向央行缴纳100%的准备金。</p><p>这里要如何理解呢？因为数字人民币跟纸币等都属于现金类支付凭证，在总量控制的前提下，分发机构要想获得数字人民币，就只能将手中的纸币等现金以1:1的方式换成数字人民币。也就是说，数字人民币与纸币等现金是等价的，只是形式不同而已。<strong>发行数字人民币并不意味着市场上流通的货币多了，而只是形式进行了切换</strong>。</p><p>等分发机构缴纳了准备金之后，央行就将数字人民币从发行库转移到银行库。而用户<strong>兑换</strong>数字人民币时，数字人民币就从银行库进入到市场流通环节，被用户手中的数字货币钱包接收。而在此之后的环节，实质就是数字人民币在多个用户钱包间进行转移，用于<strong>交易</strong>支付。</p><p>通过以上的分析，你有没有想过，为什么央行要采用双层模式运营数字人民币呢？直接由央行直接向公众发行数字人民币这样不好吗？</p><p>这其实是有一定原因的，双层运营模式可以充分利用分发机构现有的基础设施、人才及技术等优势，而且也能在不改变用户使用习惯的前提下，促进数字人民币的普及，达到花小钱办大事的效果。</p><h2>区块链+数字人民币</h2><p>以上我们通过不少篇幅剖析了数字人民币的相关知识，看似跟区块链技术关系并不大。</p><p>数字人民币是基于区块链技术发行的吗？这个你我都非常关心的问题还是没有解决，白皮书中也没有直接回答这个问题，但我找到了这样一句话。</p><blockquote>
<p>数字人民币的技术路线选择是一个长期演进、持续迭代、动态升级的过程，以市场需求为导向定期开展评估，持续进行优化改进。指定运营机构可根据自身实际需求及技术优势自行选取技术路线，充分保持对未来技术的洞察力和前瞻性。</p>
</blockquote><p>这也就意味着，数字人民币的流通没有指定必须使用哪种技术，而是由分发机构自行选择。注意，我这里着重强调的是流通，而不是发行。数字人民币的发行权在于央行，其发行模式是集中式的，因此我们可以认为<strong>数字人民币的发行是不必使用区块链技术的</strong>。</p><p>那数字人民币的流通可以使用区块链技术吗？要回答这个问题，我们可以先分析一下数字人民币的流通可能出现的情况，以微信支付为例。</p><p>1.用户A通过微信将100元余额兑换成数字人民币（取款场景）；<br>
2.用户A通过发红包的形式给用户B转了20块数字人民币（同一分发机构内交易的场景）；<br>
3.用户B将收到的20块数字人民币转给自己在支付宝中开设的数字人民币账户中（不同分发机构间交易的场景）；<br>
4.用户A将自己剩余的80块数字人民币充值到微信余额中（存款场景）。</p><p>当然，可能出现的情况还有很多，这里只列举了4个典型的场景。我们来一一分析各种场景是否可以使用区块链技术解决。</p><p>取款存款场景其实涉及到存款类资产与现金类资产的双向兑换，这关系到两个金融体系的交互，因此单纯在数字人民币侧使用区块链技术，无法更有效率地解决问题。</p><p>而关于在同一分发机构内部的数字人民币交易这个场景，结合前面技术篇的讲解，很容易就可以得出结论，<strong>区块链技术非常适合分发机构内部技术架构的选型</strong>。</p><p><img src="https://static001.geekbang.org/resource/image/56/ba/568c568a9249fa25d0df7aac00dcd9ba.jpg?wh=6886x3282" alt="" title="分发机构内部流转示意图"></p><p>分发机构每一次向央行申请数字人民币，可以理解为是区块链网络中数字货币的来源。用户间的转账可以采用类似以太坊的账户状态模型，作为用户的数字人民币的记账单位。</p><p>利用区块链技术不仅可以解决最基本的记账需求，还可以继承区块链的不可篡改及可追溯特性。因为这个场景里，去中心化特性不那么重要，所以还可以采用联盟链技术体系。</p><p>而不同分发机构间的数字人民币交易的场景，情况就稍微复杂一些，因为可能涉及到与央行银行库中记录的协同。</p><p>例子里用户B将微信渠道流通的数字人民币转移到支付宝流通渠道，其实可以理解为微信流通渠道的钱总量减少20块钱，而支付宝渠道的钱总量增加20块钱，如果使用常规手段，就需要额外的对账过程以保持数据的协同。但<strong>采用区块链跨链技术，就能实现数字人民币在不同分发机构间的原子转移，不需要额外的对账过程</strong>。</p><h2>总结</h2><p>这一讲我们通过对数字人民币基础、架构及生命周期的学习认识到，数字人民币与纸币、硬币一样，都属于现金类支付凭证，具有不计利息、无手续费、可控匿名等特点。</p><p>数字人民币由央行发行，分发机构自主申请，然后用户自由通过各分发机构进行兑换，随之实现在用户钱包间的交易转移。其体系架构遵循“一币，两库，三中心，N终端”的规律。</p><p>然后，我通过畅想在数字人民币普及以后可能出现的4种最常见的应用场景，为你剖析了区块链技术路线实施的可能性。在单个分发机构内部，可以基于区块链技术构建数字人民币的流通环境，而分发机构间的转账可以依赖区块链跨链技术实现。</p><p>当然，课程中关于区块链与数字人民币的结合也只是我的个人猜想。现阶段各分发机构也并未披露更多关于数字人民币流通的技术细节说明。技术选型是一个严肃的过程，尤其是涉及到货币的流通，因此需要多方面的考量。希望区块链技术能与数字人民币更好地融合，也期待数字人民币能尽早落地。</p><p>另外，关于白皮书中提到的数字人民币的可编程性，我文中并未提及。主要原因是现阶段资料太少，央行也并未过多披露细节。我无法确定基于数字人民币的智能合约运行在哪个环节。</p><p>主要疑惑点在于，数字人民币的流通是分发机构自主技术选型，那是否智能合约也是这样呢？还是说智能合约是运行钱包终端？暂时还无法确定，等到后续出现更多资料时，我再通过加餐的方式为你解读。</p><p><img src="https://static001.geekbang.org/resource/image/f7/53/f7967e827c220af5f59487ff4ddd2853.jpg?wh=1500x1798" alt=""></p><h2>讨论</h2><p>数字人民币出现以后，有一种论调就是：有了数字人民币，微信支付跟支付宝等第三方支付工具就危险了。你是如何理解数字人民币跟第三方支付工具之间的关系呢？</p><h2>扩展阅读</h2><p>关于数字人民币的详细说明，你可以参考央行近期发布的《<a href="http://www.pbc.gov.cn/goutongjiaoliu/113456/113469/4293590/2021071614200022055.pdf">中国数字人民币研发进展白皮书</a>》</p><p>欢迎你在留言区跟我互动，主动思考、积极交流会让你更有收获。如果这一讲对你有帮助，也欢迎你分享给自己的朋友、同事。</p>
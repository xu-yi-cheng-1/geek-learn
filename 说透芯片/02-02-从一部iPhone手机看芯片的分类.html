<p>你好，我是邵巍。在上一讲中，我给你介绍了三个半导体行业的基本概念，让你知道晶体管和集成电路是支撑半导体行业发展的两个基础发明，摩尔定律是丈量行业进步的重要尺子。</p><p>这一讲，我想和你聊聊半导体，也就是芯片的分类，来看看芯片可不只是你脑袋里想象的小硅片，它的类型非常多。</p><p>在正式开始这一讲之前，我想要问你个问题，“你知道芯片和集成电路是什么关系吗？有人说，芯片和集成电路就是一回事，只是两个不同的名字罢了，你认同吗？”</p><p>这个问题很重要，我建议你先停下来花一分钟想想你的答案。</p><p>过去几年里，总是会有同事、朋友问我这个问题。不信你随便一搜，网上怎么说的都有。放心，今天，我给你的答案，绝对是最准确和客观的。</p><p>首先，我可以负责任地告诉你，<strong>芯片肯定不全是集成电路</strong>。芯片里面，大约只有80%属于集成电路，其余的都是光电器件、传感器和分立器件，行业内把这些器件称为O-S-D（Optoelectronic, Sensor, Discrete）。</p><p>集成电路你已经学过了，它是由大量晶体管组成的。那光电器件、传感器、分立器件又是什么呢？一下子整出来这么多概念，是不是很晕。</p><p>哈哈，别急，下面会讲到。做这节课的时候，编辑就和我说了，老师，咱们可别孤零零地讲概念，用户没办法记住。我们讨论之后，决定拿你最熟悉的手机来举例子，以帮助你建立直观的认识。</p><!-- [[[read_end]]] --><p>所以，今天这节课，我会通过“拆解”一部你熟悉的iPhone手机，来和你聊聊芯片的分类。学完这节课，你就可以对半导体行业的主要产品品类有基本概念，同时也会对一部iPhone都用了哪些芯片产品有一个初步的印象。</p><p>为了方便你理解，我按照半导体行业的专业分类方式，做了下面这张行业分类图。图里的数据都来自半导体行业权威的市场研究机构IC Insights的最新市场统计。能把这张图和别人讲清楚，我觉得你至少是一个半导体行业初级市场研究人员的水平了。</p><p><img src="https://static001.geekbang.org/resource/image/be/50/be159461be7c0a5569be21b30a24db50.png" alt=""></p><p>有这张图还不够，我另外整理了一张iPhone X物料表，在正中间那一列，我标明了每个物料所属的半导体种类。而且这张表的顺序，跟前面的分类图，基本上可以一一对应起来。考虑到公开信息的准确性，这张表我参考了知名市场研究机构IHS Markit的iPhone X拆解报告。</p><p>表格的第二列，也就是功能描述部分，我对部件做了解释，你一定要花2分钟时间整体对照理解下。</p><p><img src="https://static001.geekbang.org/resource/image/8b/0c/8bbc7b771359dfc07c81ca2a064cb30c.jpg" alt=""><br>
对照完两张图，从宏观看，有两个信息你需要关注：</p><ul>
<li>第一，一部手机80%都是集成电路。所以，苹果是半导体产品全球排名第一的买家，这个就不难理解了吧？</li>
<li>第二，一部iPhone几乎把前面分类图中的重要品类都用到了。你看，手机一点都不简单吧？</li>
</ul><p>现在，有了一张半导体产品分类图，一张充满半导体元器件的物料表，下面我们就顺着这两个线索，逐一地讲解一部iPhone X所用到的半导体产品。</p><h2>iPhone X手机处理器：A11</h2><p>我不知道你还记得吗？2017年秋天苹果发布iPhone X的时候，亮点之一就是这款手机搭载了6核心64位的A11处理器。当时，苹果公司高级副总裁评价说，这是一款智能手机到目前为止所能拥有的最强劲、最智能的芯片。</p><p><img src="https://static001.geekbang.org/resource/image/a4/6b/a487e74c49037bc7cdaec19eb00a526b.png" alt=""></p><p>上面这张图是iPhone X的主板，顾名思义，就是有主处理器的板子。在主板上，带着苹果Logo的那个部件就是苹果自研的应用处理器A11。它在分类之中，属于集成电路IC-&gt;数字IC-&gt;逻辑IC-&gt;处理器-&gt;应用处理器。</p><p>这里注意，我们在说应用处理器的时候，也常用它的英文缩写AP（Application Processor）。</p><p>在物料成本表里，你可以看到，因为是苹果自己开发，找台积电代工，成本只有27美金。那如果不找台积电代工，而是全部采用高通旗舰芯片的话，同等性能配置下，成本大约都在80美金以上。算一算，苹果一年卖2亿部手机，一部手机省50美金，一年就能省100亿美金。</p><p>这么一算，你应该能明白苹果为啥要自己设计手机AP了吧？</p><p>从技术上，再看一下A11这颗处理器的细节，它集成了6颗ARMv8的CPU核，2大4小；3颗GPU核，一个神经网络处理器NPU用来加速人工智能算法，一个（照相机）图像信号处理器ISP。这是一颗高度集成的SoC (系统级芯片，System-on-Chip)。</p><p>高度集成也是手机芯片的特点，像在PC或者服务器上，CPU、GPU、NPU往往是三颗独立的芯片。对于iPhone手机来说，整个iOS系统都是跑在应用处理器上的，可以说手机中最重要的一颗芯片就是应用处理器了，系统是否顺滑，游戏是否顺畅，全看应用处理器的芯片。这也是苹果、华为、三星都要自研应用处理器的原因。</p><h2>iPhone X的两大存储芯片</h2><p>在A11下面其实还压着一个存储芯片DRAM（动态随机存取存储器，Dynamic Random Access Memory）。存储芯片，顾名思义，就是存储数据的芯片，也叫存储器。手机中的全部信息，包括输入的原始数据、应用程序、中间运行结果和最终运行结果都保存在存储器中。除此之外，iPhone X还有一块重要的存储芯片，就是在下图中最大的一块芯片，东芝的NAND Flash。</p><p>DRAM和NAND Flash的区别很好理解，我类比下。在PC机上，我们俗称的内存条，其实就是DRAM，固态硬盘（SSD）就是NAND Flash。</p><p><img src="https://static001.geekbang.org/resource/image/1c/62/1c245e9835d771deda060991fbb4e562.png" alt=""></p><p>在分类之中，属于集成电路IC-&gt;数字IC-&gt;存储IC-&gt;DRAM &amp; NAND Flash。</p><p>存储的分类，如果按技术类型，我可以给你列一个长长的单子。但是，我们可以偷巧地只看用量最大的两个主要品类DRAM和NAND Flash。那些技术名词留给行业人员自己battle用吧。</p><p>为什么只看DRAM和NAND Flash就可以？再回到第一张分类图，我们可以看到从存储芯片的产值构成来看，DRAM 约占这个存储芯片市场的 53%，NAND Flash 占比 45%，NOR Flash与其余占比约2%，完全可以忽略。</p><p>DRAM存取速度快，因此手机运行时的数据，都存放在DRAM中，方便应用处理器随时存取。这也是iPhone X的应用处理器和DRAM紧密贴在一起的缘故。而在最新一代的苹果应用处理器中，采取先进封装技术，干脆把DRAM和AP封装在一起，更加紧密了。</p><p>NAND Flash存储容量较大，而且掉电之后数据也不丢失。因此手机里的照片、记事本，都装在NAND Flash里。iPhone  X配的是4GB DRAM、64G/256G NAND Flash。</p><p>介绍完iPhone X的应用处理器和存储芯片，再回去看一眼第一张分类图，你会发现，你已经大概理解其中占比70%的数字集成电路了。在开始讲剩下的30%之前，我想从专业的视角，把数字IC、各类处理器和存储芯片等相关概念再解释一下，以帮助你更好的理解。</p><h3>数字IC</h3><p>集成电路的英文是Integrated Circuit，数字IC就是数字集成电路。回到专业视角，如果从用途上分类，数字集成电路可以简洁地分为，做计算控制的逻辑芯片和保存数据的存储芯片。不过业界习惯，把标准程度非常高的CPU、GPU、MCU合并为MPU微处理器来单独统计，把应用相关度高的ASIC（下文会解释）和SoC算作逻辑芯片。</p><h3>CPU：计算设备的运算核心和控制核心</h3><p>CPU（Central Processing Unit）是计算设备的运算核心和控制核心。它的功能主要是解释计算机指令以及处理计算机软件中的数据。CPU的标准性很高，是最能体现摩尔定律的产品。</p><p>苹果的手机应用处理器，永远使用的是最顶级的工艺。iPhone X的A11，在2017年上市的时候，就用了当时最先进的10nm工艺。到了2020年，苹果的应用处理器都已经用上5nm的工艺制程，桌面和服务器端才跟进到了7nm。</p><h3>GPU：图形处理器</h3><p>GPU（Graphics Processing Unit）也叫图形处理器，主要用来满足图像计算要求。相对来说CPU擅长逻辑判断和串行数据运算，而一个图片的每一个像素都需要相同的计算处理，GPU就擅长图形计算这种并行的任务。因为GPU这种并行度高的特征，在品类上还衍生出弱化图像能力，专注于计算的通用GPU。一般来说，通用GPU的数据处理性能是CPU的10倍、20倍，甚至更高。</p><p>作为加速器存在的GPU，比CPU还要激进。摩尔定律中处理器性能每隔两年翻1倍，而英伟达的CEO，Jason Huang，归纳说GPU将推动AI性能实现每年翻1倍，这个规律还被业界称为黄氏定律。</p><h3>ASIC：为解决特定应用问题而定制设计的集成电路</h3><p>为解决特定应用问题而定制设计的集成电路，就是ASIC（Application Specific IC）。当ASIC规模够大，逐渐通用起来，某类ASIC就会有一个专有名称，成为一个品类。例如现在用来解决人工智能问题的神经网络处理器。</p><p>标准的CPU芯片，往往要配上不同的外围芯片，比如Intel管理外设的芯片组Chipset，加速图形的GPU，这样才能构成系统。而随着工艺制程的不断演进，我们有能力把越来越多的外围芯片集成进CPU芯片中，于是就有了SoC。SoC因其高集成度、高效率的特点，是目前IC设计的主流。SoC也算是ASIC的一种。</p><p>相较于我们常见的CPU、GPU等通用型芯片，ASIC 芯片的计算能力和计算效率都可以根据特定的需要进行定制，定制么，肯定体积小、功耗低、计算效率高，在这些方面有优势。但是缺点就是入门门槛高，这里的门槛，包括资金、技术，还有时间。</p><h3>存储芯片：DRAM和NAND Flash</h3><p>前面有介绍，数字IC中2/3是逻辑芯片，1/3就是存储芯片。存储芯片就两个主要品类DRAM和NAND Flash，占了98%的比例，其余可以忽略不计。</p><p>存储芯片在设计方面跟前面的CPU、GPU、ASIC这类逻辑芯片有很大不同。CPU、GPU、ASIC重在功能设计、逻辑设计。而存储芯片的设计比较简单，基本都是重复单元，但是对时序和布局布线有挑战性。</p><p>好了，专业概念到这里就告一段落，让我们再回到iPhone X的物料表，讲一讲剩下30%的事情。存储芯片之后我列了三行模拟芯片，有射频芯片、电源芯片。那么为什么它们会被归类到模拟芯片，什么是模拟芯片呢？</p><h2>iPhone X中的模拟IC</h2><p>上面我提到数字IC的时候没有展开讲概念，这里你可以跟模拟IC对比来看：处理数字信号的就是数字IC，处理模拟信号的就是模拟IC。它们两个是相对的。其实如果要逻辑严密，集成电路的分类应该还列上数模混合IC共三种，而实际上你可以理解为，以数字电路为主的归类到数字IC，以模拟电路为主的归类到模拟IC，两大类方便你记忆。</p><p>数字IC基本上是一个追逐摩尔定律的品类，尽量采用最新工艺，利用新工艺制程带来的晶体管密度的提升，来提高性能同时降低成本。</p><p>相对来说，模拟IC则更多的追求电路速度、分辨率、功耗等参数方面的提升，强调的是高信噪比、低失真、低耗电和高稳定性，因而产品一旦达到设计目标就具备长久的生命力，生命周期可长达 10 年以上。行业里有“一年数字，十年模拟”的说法。</p><p>那么，数字信号和模拟信号又是什么？</p><p>简单来说，0和1，就是数字信号。而声音、光、气压、无线电信号（Radio Frequency，也被翻译成射频，射频信号），这些现实中的信号，基本上都是连续的信号，而不是简单的用“有-1”，“无-0”来表示，它们都是模拟信号。</p><p>数字IC这块，你好歹在日常中有见过、听过，甚至买过。而对于模拟IC，你可能就不熟悉了。但手机其实就是一个大量使用模拟IC的电子设备。如果按照整个半导体行业的出货量来看，模拟IC的数量是超过数字IC的，但是单价不高，因此在销售收入上占比也不高。</p><p>看下图，Quadplexer 四路复用器芯片，实现手机芯片频段载波聚合功能，载波聚合，是一种增加传输带宽的手段，把几个分散的频段通道整合成为一个更宽的数据通道；RF Switch射频开关芯片，处理无线信号通道转换；NFC芯片，用来处理近距无线通讯信号的；Wireless Charging芯片，这个你熟悉，支持无线充电；还有Audio Amp 音频放大器芯片等等，这些就都是在iPhone X中的模拟IC。</p><p><img src="https://static001.geekbang.org/resource/image/50/df/5017e673eac0c5e0c32b86cd81ba84df.png" alt=""></p><p>总的来说，射频器件、电源管理装置和数模/模数转换器是模拟IC的三大主要产品。</p><ul>
<li><strong>射频器件</strong>是处理无线电信号的核心器件，包括5G信号、蓝牙、WIFI、NFC等，凡是需要无线连接的地方必备射频器件，手机是射频器件的一个重要应用场景。</li>
<li>任何电子设备都需要<strong>电源管理装置</strong>。电源管理芯片的任务就是完成电能的变换、分配、检测及其它电能管理。电源管理芯片占模拟芯片销售份额接近三成。射频芯片和电源管理芯片在手机里非常重要，你可以对着物料表，找一找。</li>
<li><strong>模数和数模转换器</strong>是模拟信号与数字信号之间起桥梁作用的电路。A/D 是模拟量到数字量的转换， D/A 是数字量到模拟量的转换，它们的道理是完全一样的，只是转换方向不同。例如我们要播放一首歌曲，歌曲是以数字形式存储的，手机经过一系列的数模转换，把数字信号变成连续的声音信号，通过麦克风播放出来，这就是一个DAC(Digital to Aanalog Controller,数模转换器) 数模转换过程。</li>
</ul><p><img src="https://static001.geekbang.org/resource/image/97/27/976c44674994cf99a357804bdbd7ee27.png" alt=""></p><p>一个小知识点，模拟IC的设计涉及了更加复杂的信号环节，并且其设计的自动化程度远不及数字IC，通常需要大量的人工干预决定取舍。相对于数字IC，模拟IC的设计对工程师的经验，权衡矛盾等方面的能力要求更为严格。所以，模拟IC设计被称为一门艺术。</p><p>好，到这里，你已经了解了集成电路的分类，包括数字IC和模拟IC，关于半导体80%的内容我就讲完了。剩下的近20%就是我们开头提过的O-S-D器件。</p><h2>iPhone X的光电器件、传感器和分立器件</h2><p>回顾一下，在开篇我就介绍了，半导体产品超过80%是集成电路芯片，其余的是光电器件、分立器件和传感器，行业内称为O-S-D。</p><p>集成电路，就是数字IC和模拟IC。用一个手机来理解，数字IC就是手机处理器，模拟IC就处理那些射频信号的芯片。那么光电器件、传感器、分立器件又是什么呢？</p><ul>
<li>iPhone X用的三星产的AMOLED手机屏，就是光电器件。</li>
<li>手机里的6轴加速器/陀螺仪、电子罗盘、颜色传感器、气压传感器等都属于传感器。</li>
<li>分立器件，其实就是单独包装的晶体管。多个晶体管集成起来，就是集成电路，而仍然单独封装的晶体管，就是分立器件。我看过一份资料，在2004年，手机上有300多个分立器件，现在，这个确切的数字已经查不到了，能集成在一起的都尽量集成起来了。</li>
</ul><p>到这里我用一部iPhone X举例，把半导体产业的几大产品品类：CPU、GPU、ASIC、SoC， DRAM、NAND Flash、射频IC、电源IC、数模/模数转换IC，以及光电器件、传感器等，串讲了一下，希望你对整个行业能有个初步的认识。</p><h2>总结</h2><p>学习完这一讲，我们来复习几个重点：</p><ol>
<li>在半导体行业中，超过80%的产品是集成电路芯片，因此我们在日常中常把芯片、半导体、集成电路三者混用。但其实，集成电路之外，半导体产品还有光电器件、传感器和分立器件，行业内称为O-S-D。</li>
<li>集成电路芯片主要分为数字IC和模拟IC，数字IC强调运算速度，模拟IC强调高信噪比、低失真、低耗电和高稳定性，生命周期更长；论销售额，数字芯片有绝对优势，但是如果论出货量，模拟芯片量大过数字芯片。</li>
<li>数字IC中主要就是CPU处理器和存储器。CPU是重中之重，行业明珠的地位。无论是Intel，还是苹果，都是靠CPU站在行业第一的位置的。</li>
<li>一部iPhone手机，基本上用到了半导体产品的全部种类。一部小小的手机，是整个行业的缩影。选车要看发动机，我希望你在选择下一部手机的时候，也能看看它的芯片。</li>
</ol><p>最后，我希望你能记住最开始的那张图，那是业内最权威的分类方式了，我为本次课程特别制作，独此一家，别无分店。</p><p>另外附上<strong>TechInsights</strong>的iPhone  X拆解<a href="https://www.techinsights.com/blog/apple-iphone-x-teardown">原文链接</a>。原文非常详尽，我的重点在于讲解半导体的分类。有所省略。</p><h2>思考题</h2><p>在手机行业中，有两个公司掌握了真实的每个手机厂商的出货数字，你能猜出来是哪两个公司么？欢迎你在评论区与我交流。如果你觉得这一讲不错的话，也欢迎分享给更多的朋友一起阅读。</p>